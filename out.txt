Starting build process...
Adding env variables...
Running the playbook...
ansible-playbook 2.9.27
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/dist-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 2.7.12 (default, Mar  1 2021, 11:38:31) [GCC 5.4.0 20160609]
Using /etc/ansible/ansible.cfg as config file
Skipping callback 'actionable', as we already have a stdout callback.
Skipping callback 'counter_enabled', as we already have a stdout callback.
Skipping callback 'debug', as we already have a stdout callback.
Skipping callback 'dense', as we already have a stdout callback.
Skipping callback 'dense', as we already have a stdout callback.
Skipping callback 'full_skip', as we already have a stdout callback.
Skipping callback 'json', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'null', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.
Skipping callback 'selective', as we already have a stdout callback.
Skipping callback 'skippy', as we already have a stdout callback.
Skipping callback 'stderr', as we already have a stdout callback.
Skipping callback 'unixy', as we already have a stdout callback.
Skipping callback 'yaml', as we already have a stdout callback.

PLAYBOOK: site.yaml ************************************************************
16 plays in /home/blockchain-automation-framework/platforms/shared/configuration/site.yaml

PLAY [all] *********************************************************************
META: ran handlers
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:7
ok: [localhost]
META: ran handlers

TASK [include_role : setup/kubectl] ********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:10

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.q1go74te", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
changed: [localhost] => {"changed": true, "checksum_dest": null, "checksum_src": "a180187f135f4603e45bb6e3552dc3bf2a7c9c45", "dest": "/tmp/ansible.q1go74te/kubernetes-client-linux-amd64.tar.gz", "elapsed": 1, "gid": 0, "group": "root", "md5sum": "7bd4c32745c65042d9cc07f3a3f7d139", "mode": "0644", "msg": "OK (12980343 bytes)", "owner": "root", "size": 12980343, "src": "/root/.ansible/tmp/ansible-tmp-1648634107.99-113-100246403851367/tmpsjbnr7xy", "state": "file", "status_code": 200, "uid": 0, "url": "https://dl.k8s.io/v1.16.13/kubernetes-client-linux-amd64.tar.gz"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
changed: [localhost] => {"changed": true, "dest": "/tmp/ansible.q1go74te", "extract_results": {"cmd": ["/bin/tar", "--extract", "-C", "/tmp/ansible.q1go74te", "-z", "-f", "/root/.ansible/tmp/ansible-tmp-1648634109.53-141-8247855880076/source"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0700", "owner": "root", "size": 4096, "src": "/root/.ansible/tmp/ansible-tmp-1648634109.53-141-8247855880076/source", "state": "directory", "uid": 0}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/root/bin", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
changed: [localhost] => (item=kubectl) => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": true, "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "dest": "/root/bin/kubectl", "gid": 0, "group": "root", "md5sum": "ae39d320c1d9b0be0d3edfed41498a94", "mode": "0755", "owner": "root", "size": 42958848, "src": "/tmp/ansible.q1go74te/kubernetes/client/bin/kubectl", "state": "file", "uid": 0}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.041370", "end": "2022-03-30 09:55:11.409541", "rc": 0, "start": "2022-03-30 09:55:11.368171", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.hkkvtsh0", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634111.3634248, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 83904, "charset": "unknown", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1648634111.1474216, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105191, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.030830", "end": "2022-03-30 09:55:11.911882", "rc": 0, "start": "2022-03-30 09:55:11.881052", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.5_5y2p4x", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634111.3634248, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 83904, "charset": "unknown", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1648634111.1474216, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105191, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.028952", "end": "2022-03-30 09:55:12.400975", "rc": 0, "start": "2022-03-30 09:55:12.372023", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [include_role : setup/helm] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:20

TASK [setup/helm : register temporary directory] *******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.4o4ynvm_", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
changed: [localhost] => {"changed": true, "checksum_dest": null, "checksum_src": "c7d97a228fa719ba68322225142a3c7b6cbe6396", "dest": "/tmp/ansible.4o4ynvm_/helm.tar.gz", "elapsed": 0, "gid": 0, "group": "root", "md5sum": "8d5bbe77ab9d9bb02ff88b3210ec1be3", "mode": "0755", "msg": "OK (25097357 bytes)", "owner": "root", "size": 25097357, "src": "/root/.ansible/tmp/ansible-tmp-1648634112.76-522-44566513935418/tmpvnykl53z", "state": "file", "status_code": 200, "uid": 0, "url": "https://get.helm.sh/helm-v2.17.0-linux-amd64.tar.gz"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
changed: [localhost] => {"changed": true, "dest": "/tmp/ansible.4o4ynvm_", "extract_results": {"cmd": ["/bin/tar", "--extract", "-C", "/tmp/ansible.4o4ynvm_", "-z", "-f", "/tmp/ansible.4o4ynvm_/helm.tar.gz"], "err": "", "out": "", "rc": 0}, "gid": 0, "group": "root", "handler": "TgzArchive", "mode": "0700", "owner": "root", "size": 4096, "src": "/tmp/ansible.4o4ynvm_/helm.tar.gz", "state": "directory", "uid": 0}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37

TASK [check/setup : check if dir exists or not] ********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634110.7514162, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 8, "charset": "unknown", "ctime": 1648634111.1474216, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105185, "isblk": false, "ischr": false, "isdir": true, "isfifo": false, "isgid": false, "islnk": false, "isreg": false, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1648634111.1474216, "nlink": 2, "path": "/root/bin", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 4096, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [check/setup : Ensures dir exists] ****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : Check if policy exists] ************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : Check docker cred exists] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:41
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
changed: [localhost] => (item=helm) => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": true, "checksum": "77fa7fee8619cf851c695faee60f53971804a771", "dest": "/root/bin/helm", "gid": 0, "group": "root", "md5sum": "d62fd9c4b780c79a88f00801e16b5439", "mode": "0755", "owner": "root", "size": 39931904, "src": "/root/.ansible/tmp/ansible-tmp-1648634115.6-630-139355950313773/source", "state": "file", "uid": 0}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.041836", "end": "2022-03-30 09:55:16.160639", "rc": 0, "start": "2022-03-30 09:55:16.118803", "stderr": "", "stderr_lines": [], "stdout": "Client: v2.17.0+ga690bad", "stdout_lines": ["Client: v2.17.0+ga690bad"]}

TASK [setup/helm : register temporary directory] *******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.jcrxdyvn", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634116.1154912, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 77992, "charset": "unknown", "checksum": "77fa7fee8619cf851c695faee60f53971804a771", "ctime": 1648634115.9714892, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105184, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1648634115.7834864, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39931904, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.037658", "end": "2022-03-30 09:55:16.689777", "rc": 0, "start": "2022-03-30 09:55:16.652119", "stderr": "", "stderr_lines": [], "stdout": "Client: v2.17.0+ga690bad", "stdout_lines": ["Client: v2.17.0+ga690bad"]}

TASK [setup/helm : register temporary directory] *******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.4258hyub", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634116.1154912, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 77992, "charset": "unknown", "checksum": "77fa7fee8619cf851c695faee60f53971804a771", "ctime": 1648634115.9714892, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105184, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1648634115.7834864, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39931904, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.042863", "end": "2022-03-30 09:55:17.253371", "rc": 0, "start": "2022-03-30 09:55:17.210508", "stderr": "", "stderr_lines": [], "stdout": "Client: v2.17.0+ga690bad", "stdout_lines": ["Client: v2.17.0+ga690bad"]}

TASK [include_role : setup/vault] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:30

TASK [setup/vault : register temporary directory] ******************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.c1dqrgr_", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/vault : check vault] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [setup/vault : Install vault client] **************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:16
changed: [localhost] => {"changed": true, "checksum_dest": null, "checksum_src": "22804e16078d2c0439ddcfe90350b812e31c0f37", "dest": "/tmp/ansible.c1dqrgr_/vault_1.0.1_linux_amd64.zip", "elapsed": 1, "gid": 0, "group": "root", "md5sum": "31ebfcdbfc693b6747dcc5ec08ba2755", "mode": "0755", "msg": "OK (35778562 bytes)", "owner": "root", "size": 35778562, "src": "/root/.ansible/tmp/ansible-tmp-1648634117.63-948-240637654861716/tmpw3zpwslz", "state": "file", "status_code": 200, "uid": 0, "url": "https://releases.hashicorp.com/vault/1.0.1/vault_1.0.1_linux_amd64.zip"}

TASK [setup/vault : create bin directory] **************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:26
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/root/bin", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/vault : Unzip vault archive] ***************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:34
changed: [localhost] => (item=vault) => {"ansible_loop_var": "bin_item", "bin_item": "vault", "changed": true, "dest": "/root/bin", "extract_results": {"cmd": ["/usr/bin/unzip", "-o", "/tmp/ansible.c1dqrgr_/vault_1.0.1_linux_amd64.zip", "-d", "/root/bin"], "err": "", "out": "Archive:  /tmp/ansible.c1dqrgr_/vault_1.0.1_linux_amd64.zip\n  inflating: /root/bin/vault         \n", "rc": 0}, "gid": 0, "group": "root", "handler": "ZipArchive", "mode": "0755", "owner": "root", "size": 4096, "src": "/tmp/ansible.c1dqrgr_/vault_1.0.1_linux_amd64.zip", "state": "directory", "uid": 0}

TASK [setup/vault : Test vault installation] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:46
ok: [localhost] => {"changed": false, "cmd": ["vault", "version"], "delta": "0:00:00.029265", "end": "2022-03-30 09:55:20.466430", "rc": 0, "start": "2022-03-30 09:55:20.437165", "stderr": "", "stderr_lines": [], "stdout": "Vault v1.0.1 ('08df121c8b9adcc2b8fd55fc8506c3f9714c7e61')", "stdout_lines": ["Vault v1.0.1 ('08df121c8b9adcc2b8fd55fc8506c3f9714c7e61')"]}

TASK [include_role : setup/aws-cli] ********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:40
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.supplychain-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'supplychain', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 3}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 3, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.manufacturer-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'manufacturer', u'country': u'CH', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'Zurich', u'location': u'Zurich', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.manufacturer-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'github_username', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'github_token', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "minikube", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "github_token", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "github_username"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.carrier-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'carrier', u'country': u'GB', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.carrier-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'jozsefkovacsacc', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'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', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "minikube", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "jozsefkovacsacc"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/aws-auth] *******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:49
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.supplychain-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'supplychain', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 3}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 3, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.manufacturer-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'manufacturer', u'country': u'CH', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'Zurich', u'location': u'Zurich', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.manufacturer-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'github_username', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'github_token', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "minikube", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "github_token", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "github_username"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.carrier-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'carrier', u'country': u'GB', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.carrier-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'jozsefkovacsacc', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'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', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "minikube", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "jozsefkovacsacc"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:63

TASK [setup/tiller : Check if Tiller is already installed in the Kubernetes clusters] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Create service account for Tiller] ************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:14
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Apply Tiller RBAC definintion] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Setup tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Wait for tiller to be ready] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:55

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Check if Tiller is already installed in the Kubernetes clusters] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Create service account for Tiller] ************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:14
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Apply Tiller RBAC definintion] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Setup tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Wait for tiller to be ready] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:55

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Check if Tiller is already installed in the Kubernetes clusters] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Create service account for Tiller] ************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:14
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Apply Tiller RBAC definintion] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Setup tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Wait for tiller to be ready] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:55

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [include_role : setup/flux] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:11

TASK [aws-cli : register temporary directory] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:34
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : register temporary directory] *********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check aws-authenticator] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Install aws-authenticator] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:24
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:35
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : register temporary directory] *************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.jqxp_m_y", "size": 4096, "state": "directory", "uid": 0}

TASK [check helm] **************************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634116.1154912, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 77992, "charset": "unknown", "checksum": "77fa7fee8619cf851c695faee60f53971804a771", "ctime": 1648634115.9714892, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105184, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1648634115.7834864, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39931904, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Install helm] ************************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Unzip helm archive] ******************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Move helm binaries] ******************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test helm installation] **************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.035368", "end": "2022-03-30 09:55:25.132425", "rc": 0, "start": "2022-03-30 09:55:25.097057", "stderr": "", "stderr_lines": [], "stdout": "Client: v2.17.0+ga690bad", "stdout_lines": ["Client: v2.17.0+ga690bad"]}

TASK [kubectl : register temporary directory] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.r1ya3mx1", "size": 4096, "state": "directory", "uid": 0}

TASK [check kubectl] ***********************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634111.3634248, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 83904, "charset": "unknown", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1648634111.1474216, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105191, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Download kubectl binary] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Unarchive kubernetes-client] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : create bin directory] ******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Copy kubectl binary to destination directory] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test kubectl installation] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.032081", "end": "2022-03-30 09:55:25.826044", "rc": 0, "start": "2022-03-30 09:55:25.793963", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [setup/tiller : Check if Tiller is already installed in the Kubernetes clusters] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Create service account for Tiller] ************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:14
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Apply Tiller RBAC definintion] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Setup tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Wait for tiller to be ready] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:55

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-28T08:49:06Z", "generateName": "flux-local-969884797-", "labels": {"app": "flux", "pod-template-hash": "969884797", "release": "flux-local"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"a2148058-7c23-4c9e-b1f5-c568b68bfa5b\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/root/.ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"sshdir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-28T08:49:06Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.8\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T07:41:56Z"}], "name": "flux-local-969884797-trwzh", "namespace": "default", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-local-969884797", "uid": "a2148058-7c23-4c9e-b1f5-c568b68bfa5b"}], "resourceVersion": "76914", "selfLink": "/api/v1/namespaces/default/pods/flux-local-969884797-trwzh", "uid": "686eff3f-ebda-44dd-b85d-74f3dd1501c5"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--k8s-secret-name=git-auth-local", "--memcached-hostname=flux-local-memcached", "--sync-state=git", "--memcached-service=", "--git-url=ssh://git@github.com:jozsefkovacsacc/bevel.git", "--git-branch=develop", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-local", "--registry-poll-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=hub.docker.com/u/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.15.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 5, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 5}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 5, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 5}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/root/.ssh", "name": "sshdir", "readOnly": true}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "flux-local-token-p7lcc", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-local", "serviceAccountName": "flux-local", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-local-kube-config"}, "name": "kubedir"}, {"configMap": {"defaultMode": 384, "name": "flux-local-ssh-config"}, "name": "sshdir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-local"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "flux-local-token-p7lcc", "secret": {"defaultMode": 420, "secretName": "flux-local-token-p7lcc"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-28T08:49:06Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T07:41:56Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T07:41:56Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-28T08:49:06Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://ab1452c3c2ffc9f227f2a577a0792962e9a1e5f02ad5632c1c6c73da27bb0034", "image": "fluxcd/flux:1.15.0", "imageID": "docker-pullable://fluxcd/flux@sha256:ba4bd9ed8ea13ba4aa94d97b6ca285b6f3831fc5861369110dc19f238ac13201", "lastState": {}, "name": "flux", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2022-03-30T07:41:43Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.8", "podIPs": [{"ip": "172.17.0.8"}], "qosClass": "Burstable", "startTime": "2022-03-28T08:49:06Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:23
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:40
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Get ssh key] ************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:54
ok: [localhost] => {"changed": false, "cmd": "KUBECONFIG=/home/blockchain-automation-framework/build/config kubectl -n default logs deployment/flux-local | grep identity.pub | cut -d '\"' -f2\n", "delta": "0:00:00.284706", "end": "2022-03-30 09:55:27.809069", "rc": 0, "start": "2022-03-30 09:55:27.524363", "stderr": "", "stderr_lines": [], "stdout": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM=", "stdout_lines": ["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM="]}

TASK [setup/flux : Output ssh key] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:60
ok: [localhost] => {
    "ssh_key.stdout": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM="
}

TASK [aws-cli : register temporary directory] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:34
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : register temporary directory] *********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check aws-authenticator] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Install aws-authenticator] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:24
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:35
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : register temporary directory] *************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.wt3mezxc", "size": 4096, "state": "directory", "uid": 0}

TASK [check helm] **************************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634116.1154912, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 77992, "charset": "unknown", "checksum": "77fa7fee8619cf851c695faee60f53971804a771", "ctime": 1648634115.9714892, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105184, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1648634115.7834864, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39931904, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Install helm] ************************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Unzip helm archive] ******************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Move helm binaries] ******************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test helm installation] **************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.032318", "end": "2022-03-30 09:55:28.638838", "rc": 0, "start": "2022-03-30 09:55:28.606520", "stderr": "", "stderr_lines": [], "stdout": "Client: v2.17.0+ga690bad", "stdout_lines": ["Client: v2.17.0+ga690bad"]}

TASK [kubectl : register temporary directory] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.fr3kcpsx", "size": 4096, "state": "directory", "uid": 0}

TASK [check kubectl] ***********************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634111.3634248, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 83904, "charset": "unknown", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1648634111.1474216, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105191, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Download kubectl binary] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Unarchive kubernetes-client] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : create bin directory] ******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Copy kubectl binary to destination directory] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test kubectl installation] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.027791", "end": "2022-03-30 09:55:29.331776", "rc": 0, "start": "2022-03-30 09:55:29.303985", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [setup/tiller : Check if Tiller is already installed in the Kubernetes clusters] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Create service account for Tiller] ************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:14
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Apply Tiller RBAC definintion] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Setup tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Wait for tiller to be ready] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:55

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-28T08:49:06Z", "generateName": "flux-local-969884797-", "labels": {"app": "flux", "pod-template-hash": "969884797", "release": "flux-local"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"a2148058-7c23-4c9e-b1f5-c568b68bfa5b\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/root/.ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"sshdir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-28T08:49:06Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.8\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T07:41:56Z"}], "name": "flux-local-969884797-trwzh", "namespace": "default", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-local-969884797", "uid": "a2148058-7c23-4c9e-b1f5-c568b68bfa5b"}], "resourceVersion": "76914", "selfLink": "/api/v1/namespaces/default/pods/flux-local-969884797-trwzh", "uid": "686eff3f-ebda-44dd-b85d-74f3dd1501c5"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--k8s-secret-name=git-auth-local", "--memcached-hostname=flux-local-memcached", "--sync-state=git", "--memcached-service=", "--git-url=ssh://git@github.com:jozsefkovacsacc/bevel.git", "--git-branch=develop", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-local", "--registry-poll-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=hub.docker.com/u/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.15.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 5, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 5}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 5, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 5}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/root/.ssh", "name": "sshdir", "readOnly": true}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "flux-local-token-p7lcc", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-local", "serviceAccountName": "flux-local", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-local-kube-config"}, "name": "kubedir"}, {"configMap": {"defaultMode": 384, "name": "flux-local-ssh-config"}, "name": "sshdir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-local"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "flux-local-token-p7lcc", "secret": {"defaultMode": 420, "secretName": "flux-local-token-p7lcc"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-28T08:49:06Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T07:41:56Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T07:41:56Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-28T08:49:06Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://ab1452c3c2ffc9f227f2a577a0792962e9a1e5f02ad5632c1c6c73da27bb0034", "image": "fluxcd/flux:1.15.0", "imageID": "docker-pullable://fluxcd/flux@sha256:ba4bd9ed8ea13ba4aa94d97b6ca285b6f3831fc5861369110dc19f238ac13201", "lastState": {}, "name": "flux", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2022-03-30T07:41:43Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.8", "podIPs": [{"ip": "172.17.0.8"}], "qosClass": "Burstable", "startTime": "2022-03-28T08:49:06Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:23
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:40
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Get ssh key] ************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:54
ok: [localhost] => {"changed": false, "cmd": "KUBECONFIG=/home/blockchain-automation-framework/build/config kubectl -n default logs deployment/flux-local | grep identity.pub | cut -d '\"' -f2\n", "delta": "0:00:00.228759", "end": "2022-03-30 09:55:31.105783", "rc": 0, "start": "2022-03-30 09:55:30.877024", "stderr": "", "stderr_lines": [], "stdout": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM=", "stdout_lines": ["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM="]}

TASK [setup/flux : Output ssh key] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:60
ok: [localhost] => {
    "ssh_key.stdout": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM="
}

TASK [aws-cli : register temporary directory] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:34
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : register temporary directory] *********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check aws-authenticator] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Install aws-authenticator] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:24
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:35
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : register temporary directory] *************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.xhqjfwjf", "size": 4096, "state": "directory", "uid": 0}

TASK [check helm] **************************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634116.1154912, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 77992, "charset": "unknown", "checksum": "77fa7fee8619cf851c695faee60f53971804a771", "ctime": 1648634115.9714892, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105184, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1648634115.7834864, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 39931904, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Install helm] ************************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Unzip helm archive] ******************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Move helm binaries] ******************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test helm installation] **************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.043255", "end": "2022-03-30 09:55:31.999779", "rc": 0, "start": "2022-03-30 09:55:31.956524", "stderr": "", "stderr_lines": [], "stdout": "Client: v2.17.0+ga690bad", "stdout_lines": ["Client: v2.17.0+ga690bad"]}

TASK [kubectl : register temporary directory] **********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.x_x2n3hc", "size": 4096, "state": "directory", "uid": 0}

TASK [check kubectl] ***********************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1648634111.3634248, "attr_flags": "", "attributes": [], "block_size": 4096, "blocks": 83904, "charset": "unknown", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1648634111.1474216, "dev": 1048587, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2105191, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": null, "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Download kubectl binary] *************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Unarchive kubernetes-client] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : create bin directory] ******************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Copy kubectl binary to destination directory] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test kubectl installation] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.032861", "end": "2022-03-30 09:55:32.589416", "rc": 0, "start": "2022-03-30 09:55:32.556555", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [setup/tiller : Check if Tiller is already installed in the Kubernetes clusters] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/tiller : Create service account for Tiller] ************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:14
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Apply Tiller RBAC definintion] ****************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/tiller : Setup tiller] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Wait for tiller to be ready] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/tiller/tasks/main.yaml:55

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod helm in kube-system] *****************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-23T10:58:30Z", "generateName": "tiller-deploy-56564f765c-", "labels": {"app": "helm", "name": "tiller", "pod-template-hash": "56564f765c"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:name": {}, "f:pod-template-hash": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"30775f65-b7dd-4b62-ae8b-470506a2a02a\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:automountServiceAccountToken": {}, "f:containers": {"k:{\"name\":\"tiller\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"TILLER_HISTORY_MAX\"}": {".": {}, "f:name": {}, "f:value": {}}, "k:{\"name\":\"TILLER_NAMESPACE\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":44134,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":44135,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-23T10:58:30Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.2\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T06:41:04Z"}], "name": "tiller-deploy-56564f765c-bc6ds", "namespace": "kube-system", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "tiller-deploy-56564f765c", "uid": "30775f65-b7dd-4b62-ae8b-470506a2a02a"}], "resourceVersion": "74213", "selfLink": "/api/v1/namespaces/kube-system/pods/tiller-deploy-56564f765c-bc6ds", "uid": "eeccd800-9b22-4270-8301-4ba6fb25bcbb"}, "spec": {"automountServiceAccountToken": true, "containers": [{"env": [{"name": "TILLER_NAMESPACE", "value": "kube-system"}, {"name": "TILLER_HISTORY_MAX", "value": "200"}], "image": "ghcr.io/helm/tiller:v2.17.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/liveness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "tiller", "ports": [{"containerPort": 44134, "name": "tiller", "protocol": "TCP"}, {"containerPort": 44135, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/readiness", "port": 44135, "scheme": "HTTP"}, "initialDelaySeconds": 1, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "tiller-token-vsdn8", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "tiller", "serviceAccountName": "tiller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"name": "tiller-token-vsdn8", "secret": {"defaultMode": 420, "secretName": "tiller-token-vsdn8"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T06:41:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-23T10:58:30Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a2eca36c568f0c17f20a44be006b451eff200344210b76834a8babe348f9793e", "image": "ghcr.io/helm/tiller:v2.17.0", "imageID": "docker-pullable://ghcr.io/helm/tiller@sha256:4c43eb385032945cad047d2350e4945d913b90b3ab43ee61cecb32a495c6df0f", "lastState": {"terminated": {"containerID": "docker://94c6a8180208f39f93f9441a442b756357196c636e184da273d36ae78dbb09b4", "exitCode": 255, "finishedAt": "2022-03-30T06:40:24Z", "reason": "Error", "startedAt": "2022-03-30T06:37:07Z"}}, "name": "tiller", "ready": true, "restartCount": 9, "started": true, "state": {"running": {"startedAt": "2022-03-30T06:40:57Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.2", "podIPs": [{"ip": "172.17.0.2"}], "qosClass": "BestEffort", "startTime": "2022-03-23T10:58:30Z"}}]}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2022-03-28T08:49:06Z", "generateName": "flux-local-969884797-", "labels": {"app": "flux", "pod-template-hash": "969884797", "release": "flux-local"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"a2148058-7c23-4c9e-b1f5-c568b68bfa5b\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/root/.ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"sshdir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-03-28T08:49:06Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"172.17.0.8\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-03-30T07:41:56Z"}], "name": "flux-local-969884797-trwzh", "namespace": "default", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-local-969884797", "uid": "a2148058-7c23-4c9e-b1f5-c568b68bfa5b"}], "resourceVersion": "76914", "selfLink": "/api/v1/namespaces/default/pods/flux-local-969884797-trwzh", "uid": "686eff3f-ebda-44dd-b85d-74f3dd1501c5"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--k8s-secret-name=git-auth-local", "--memcached-hostname=flux-local-memcached", "--sync-state=git", "--memcached-service=", "--git-url=ssh://git@github.com:jozsefkovacsacc/bevel.git", "--git-branch=develop", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-local", "--registry-poll-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=hub.docker.com/u/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.15.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 5, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 5}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 5, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 5}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/root/.ssh", "name": "sshdir", "readOnly": true}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "flux-local-token-p7lcc", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "jozsef-virtualbox", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-local", "serviceAccountName": "flux-local", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-local-kube-config"}, "name": "kubedir"}, {"configMap": {"defaultMode": 384, "name": "flux-local-ssh-config"}, "name": "sshdir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-local"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "flux-local-token-p7lcc", "secret": {"defaultMode": 420, "secretName": "flux-local-token-p7lcc"}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-03-28T08:49:06Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T07:41:56Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-30T07:41:56Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-03-28T08:49:06Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://ab1452c3c2ffc9f227f2a577a0792962e9a1e5f02ad5632c1c6c73da27bb0034", "image": "fluxcd/flux:1.15.0", "imageID": "docker-pullable://fluxcd/flux@sha256:ba4bd9ed8ea13ba4aa94d97b6ca285b6f3831fc5861369110dc19f238ac13201", "lastState": {}, "name": "flux", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2022-03-30T07:41:43Z"}}}], "hostIP": "10.0.2.15", "phase": "Running", "podIP": "172.17.0.8", "podIPs": [{"ip": "172.17.0.8"}], "qosClass": "Burstable", "startTime": "2022-03-28T08:49:06Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:23
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux] ***********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:40
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Get ssh key] ************************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:54
ok: [localhost] => {"changed": false, "cmd": "KUBECONFIG=/home/blockchain-automation-framework/build/config kubectl -n default logs deployment/flux-local | grep identity.pub | cut -d '\"' -f2\n", "delta": "0:00:00.228476", "end": "2022-03-30 09:55:34.444579", "rc": 0, "start": "2022-03-30 09:55:34.216103", "stderr": "", "stderr_lines": [], "stdout": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM=", "stdout_lines": ["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM="]}

TASK [setup/flux : Output ssh key] *********************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:60
ok: [localhost] => {
    "ssh_key.stdout": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQClAYErpKG91rTst0uAzzia8q2tjX4MqBvmaHsMOZe8IdDumtshmu/+rzYlN54cqDKgnStwk9vuDINz/imBQR3MxTWUwZ9RpR9HzlQFN6C3ZzOoAJqFX/gXPnXDrosTcKQwq3oNSZYx3oiTAIAIsdr+r68EweAELeQH8eSKtVbRyt4GPT76LjTZygyVn/b04nsOunlmZDygeuHDtPq75uYIRb/DrDG1Rk5316iE/54CKoclaRLXz9V7+eCEMyNB2ONaFs777ALU9GJkKFGVS1KiomNYrrNeh9UNLIny5g1Izv5YvXrTr35FaTmtZf39QziUiRLIYQOu6iabISC9Y5EhArOJJdYFzhbQ/6DAWNsm+0heYZdjdTEJQeRAtjpmfoUHNkNx+giwzvs4SrlJM25XpLX8kp6J+xzCAcOMSB/JkD6H9qdrPpkBqL8V1QXNlcbGdbzP0ckNJgYCAT2fjoHSToiL9M5ojoEjcA60KrxljN7opOFv3BT59MbUwfLApeM="
}

TASK [Prepare nodes and clients ports for ambassador] **************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:22
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.supplychain-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'password': u'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', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'supplychain', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 3}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "file/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 3, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.manufacturer-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'password': u'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', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'manufacturer', u'country': u'CH', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'Zurich', u'location': u'Zurich', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.manufacturer-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'github_username', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'github_token', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH'})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "file/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "minikube", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "github_token", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "github_username"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.carrier-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'password': u'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', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'carrier', u'country': u'GB', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.carrier-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'jozsefkovacsacc', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'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', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "file/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "minikube", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "jozsefkovacsacc"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/ambassador] *****************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:31
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.supplychain-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'supplychain', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 3}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 3, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.manufacturer-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'manufacturer', u'country': u'CH', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'Zurich', u'location': u'Zurich', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.manufacturer-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'github_username', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'github_token', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "minikube", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "github_token", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "github_username"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.carrier-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'carrier', u'country': u'GB', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.carrier-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'jozsefkovacsacc', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'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', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "minikube", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "jozsefkovacsacc"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/haproxy-ingress] ************************************
task path: /home/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:45
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.supplychain-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'supplychain', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 3}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 3, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.manufacturer-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'manufacturer', u'country': u'CH', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'Zurich', u'location': u'Zurich', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.manufacturer-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'github_username', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'github_token', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "minikube", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "github_token", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "github_username"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.carrier-net:7054', u'certificate': u'file/server.crt'}, u'gitops': {u'username': u'jozsefkovacsacc', u'private_key': u'/home/blockchain-automation-framework/build/gitops', u'git_ssh': u'ssh://git@github.com:jozsefkovacsacc/bevel.git', u'chart_source': u'platforms/hyperledger-fabric/configuration/chaincode-ops.yaml', u'branch': u'develop', u'git_push_url': u'github.com/jozsefkovacsacc/bevel.git', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'jozsef.kovacs.acc@gmail.com'}, u'cloud_provider': u'minikube', u'name': u'carrier', u'country': u'GB', u'org_status': u'new', u'external_url_suffix': u'develop.local.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'127.0.0.1:8200', u'root_token': u's.dR5t2WZMHWqQBxBAl6bSTJ7c'}, u'services': {u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net'}, u'peers': [{u'name': u'peer0', u'grpc': {u'port': 7051}, u'restserver': {u'targetPort': 20001, u'port': 20001}, u'couchdb': {u'port': 5984}, u'gossippeeraddress': u'peer0.carrier-net:7051', u'chaincode': {u'version': u'1', u'name': u'supplychain', u'repository': {u'username': u'jozsefkovacsacc', u'url': u'github.com/<username>/blockchain-automation-framework.git', u'password': u'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', u'branch': u'develop', u'path': u'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, u'endorsements': u'', u'maindirectory': u'cmd', u'arguments': u'\\"init\\",\\"\\"'}, u'peer': None, u'type': u'anchor', u'events': {u'port': 7053}, u'expressapi': {u'targetPort': 3000, u'port': 3000}, u'cli': u'disabled'}]}, u'organization': None, u'k8s': {u'region': u'cluster_region', u'config_file': u'/home/blockchain-automation-framework/build/config', u'context': u'minikube'}, u'type': u'peer', u'subject': u'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "file/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "minikube", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "develop", "chart_source": "platforms/hyperledger-fabric/configuration/chaincode-ops.yaml", "email": "jozsef.kovacs.acc@gmail.com", "git_push_url": "github.com/jozsefkovacsacc/bevel.git", "git_ssh": "ssh://git@github.com:jozsefkovacsacc/bevel.git", "password": "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", "private_key": "/home/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "jozsefkovacsacc"}, "k8s": {"config_file": "/home/blockchain-automation-framework/build/config", "context": "minikube", "region": "cluster_region"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "develop", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/<username>/blockchain-automation-framework.git", "username": "jozsefkovacsacc"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "vault": {"root_token": "s.dR5t2WZMHWqQBxBAl6bSTJ7c", "url": "127.0.0.1:8200"}}, "skip_reason": "Conditional result was False"}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [Remove build directory] **************************************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:16
ok: [localhost] => {"changed": false, "path": "./build", "state": "absent"}

TASK [include_role : create/namespace_vaultauth] *******************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:22

TASK [Checking if the namespace supplychain-net already exists] ****************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:6

TASK [/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace supplychain-net is created] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:7
ok: [localhost] => {"changed": false, "resources": []}

TASK [/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-net] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-net] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-net] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:45
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/namespace_vaultauth : Set Variable] *******************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:17
ok: [localhost] => {"ansible_facts": {"get_namespace": {"changed": false, "failed": false, "resources": []}}, "changed": false}

TASK [Create namespaces] *******************************************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:24

TASK [k8_component : Ensures orderer dir exists] *******************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:8
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer", "size": 4096, "state": "directory", "uid": 0}

TASK [k8_component : create namespace file for orderer] ************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "checksum": "764a9d412ee8c0bb2dcd3c55cdb72e2d1ff9d691", "dest": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/namespace.yaml", "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/namespace.yaml", "size": 64, "state": "file", "uid": 0}

TASK [Create vault reviewer service account for Organizations] *****************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:38

TASK [k8_component : Ensures orderer dir exists] *******************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:8
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer", "size": 4096, "state": "directory", "uid": 0}

TASK [k8_component : create vault-reviewer file for orderer] *******************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "checksum": "9d128be9605e45ba4716f4ba8a39ae745f14db79", "dest": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/vault-reviewer.yaml", "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/vault-reviewer.yaml", "size": 97, "state": "file", "uid": 0}

TASK [Create vault auth service account for Organizations] *********************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:52

TASK [k8_component : Ensures orderer dir exists] *******************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:8
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer", "size": 4096, "state": "directory", "uid": 0}

TASK [k8_component : create vaultAuth file for orderer] ************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "checksum": "a1900901e2836334aa654bf71990b01c437a0557", "dest": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/vaultAuth.yaml", "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/vaultAuth.yaml", "size": 93, "state": "file", "uid": 0}

TASK [Create clusterrolebinding for Ordrers] ***********************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:66

TASK [k8_component : Ensures orderer dir exists] *******************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:8
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer", "size": 4096, "state": "directory", "uid": 0}

TASK [k8_component : create reviewer_rbac file for orderer] ********************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/k8_component/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "checksum": "a367bfe0512ceff5f1b8540d1fe765d8ddb132f1", "dest": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/reviewer_rbac.yaml", "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/supplychain/orderer/reviewer_rbac.yaml", "size": 332, "state": "file", "uid": 0}

TASK [Git Push] ****************************************************************
task path: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:74

TASK [/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../ exists] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "gid": 1000, "group": "1000", "mode": "0775", "owner": "1000", "path": "/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../", "size": 4096, "state": "directory", "uid": 1000}

TASK [/home/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Execute git push via shell task] ***
task path: /home/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
